<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FIRE HORSE // 2026</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg:#0B0B0F;
      --panel: rgba(255,255,255,0.06);
      --stroke: rgba(255,255,255,0.12);
    }
    body{
      background:
        radial-gradient(1200px 800px at 60% 30%, rgba(255, 90, 31, 0.10), transparent 55%),
        radial-gradient(900px 700px at 30% 70%, rgba(255, 196, 100, 0.08), transparent 60%),
        var(--bg);
    }
    .glass{ background: var(--panel); border:1px solid var(--stroke); backdrop-filter: blur(10px); }
    .smallcaps{ letter-spacing: .22em; text-transform: uppercase; }
    #embers{ pointer-events:none; }

    /* Envelope interactions */
    .envelopeBtn { transition: transform 120ms ease, filter 120ms ease; }
    .envelopeBtn:hover { transform: translateY(-1px); filter: brightness(1.05); }
    .envelopeBtn:active { transform: translateY(0px) scale(0.99); }

    @keyframes shake {
      0%,100%{ transform: rotate(0deg); }
      20%{ transform: rotate(-2deg); }
      40%{ transform: rotate(2deg); }
      60%{ transform: rotate(-1deg); }
      80%{ transform: rotate(1deg); }
    }
    .shake { animation: shake 280ms ease-in-out; }

    @keyframes cardIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .cardIn { animation: cardIn 240ms ease-out both; }

    /* Fire Horse shimmer */
    @keyframes shimmer {
      0%,100% { filter: drop-shadow(0 0 18px rgba(255,90,31,0.14)) drop-shadow(0 0 34px rgba(255,196,100,0.08)); opacity: 0.92; }
      50% { filter: drop-shadow(0 0 26px rgba(255,90,31,0.22)) drop-shadow(0 0 58px rgba(255,196,100,0.11)); opacity: 1; }
    }
    .horse { animation: shimmer 3.4s ease-in-out infinite; }

    .resultGlow{
      box-shadow: 0 0 0 1px rgba(255, 90, 31, 0.12) inset,
                  0 25px 80px rgba(255, 90, 31, 0.12);
    }
  </style>
</head>
<body class="min-h-screen text-white/90">
  <canvas id="embers" class="fixed inset-0 w-full h-full"></canvas>

  <main class="relative mx-auto max-w-5xl px-4 py-12">
    <header class="flex flex-col gap-6 md:flex-row md:items-end md:justify-between">
      <div>
        <div class="smallcaps text-xs text-white/65">Lunar New Year</div>
        <h1 class="text-3xl md:text-5xl font-semibold tracking-tight mt-2">
          FIRE HORSE <span class="text-white/55">// 2026</span>
        </h1>
        <p class="text-white/65 mt-3 max-w-xl">
          Open the red envelope to receive your fortune.
        </p>
      </div>

      <div class="glass rounded-2xl p-4 md:p-5 w-full md:w-[420px]">
        <div class="flex items-center justify-between">
          <div class="smallcaps text-[11px] text-white/60">Fire Horse Directive</div>
          <button id="newDirectiveBtn" class="text-xs text-white/60 hover:text-white">refresh</button>
        </div>
        <div id="directive" class="mt-2 text-lg font-medium leading-snug">
          Move first. Refine after.
        </div>
        <div class="mt-3 text-xs text-white/50">
          Keep what‚Äôs true. Burn what isn‚Äôt.
        </div>
      </div>
    </header>

    <section class="mt-10 grid grid-cols-1 lg:grid-cols-5 gap-6">
      <!-- Left: Fire horse hero -->
      <div class="glass rounded-3xl p-6 lg:col-span-2 overflow-hidden">
        <div class="smallcaps text-[11px] text-white/60">Fire Horse</div>

        <div class="mt-5 flex items-center justify-center">
          <!-- Minimal horse silhouette SVG -->
          <svg class="horse w-[260px] md:w-[320px]" viewBox="0 0 260 260" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Fire Horse silhouette">
            <defs>
              <linearGradient id="emberGrad" x1="40" y1="30" x2="220" y2="230" gradientUnits="userSpaceOnUse">
                <stop stop-color="rgba(255,90,31,0.95)"/>
                <stop offset="1" stop-color="rgba(255,196,100,0.85)"/>
              </linearGradient>
              <filter id="softGlow" x="-30%" y="-30%" width="160%" height="160%">
                <feGaussianBlur stdDeviation="3" result="blur"/>
                <feColorMatrix in="blur" type="matrix"
                  values="1 0 0 0 0
                          0 1 0 0 0
                          0 0 1 0 0
                          0 0 0 0.6 0" result="glow"/>
                <feMerge>
                  <feMergeNode in="glow"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <path filter="url(#softGlow)"
              d="M170 60c-8 10-18 16-30 18-6 1-12 1-18 0 4 7 6 14 6 21 0 10-4 19-10 27 10 3 20 9 28 18 8 9 12 20 12 33v34h-20v-32c0-10-3-18-8-24-7-8-16-12-27-12h-10c-11 0-20 4-27 12-5 6-8 14-8 24v32H58v-34c0-23 8-42 24-56 8-7 17-12 27-14-6-8-10-17-10-27 0-9 3-17 8-24-6-2-12-6-17-11-6-6-10-13-12-22 10 1 20-2 28-8 7-6 12-14 13-24 7 6 16 9 26 9 10 0 19-3 27-9 1 10 5 18 11 24 7 7 16 10 25 10z"
              fill="url(#emberGrad)" opacity="0.95"/>
            <path d="M147 53c-6 5-12 8-18 9 3-7 4-13 3-19 6 4 11 7 15 10z" fill="rgba(255,255,255,0.10)"/>
          </svg>
        </div>

        <div class="mt-6 text-sm text-white/65">
          Charcoal ¬∑ ember ¬∑ gold.
        </div>
      </div>

      <!-- Right: Envelope + Result -->
      <div class="lg:col-span-3 space-y-4">
        <div class="glass rounded-3xl p-6">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-xl font-semibold">Red Envelope</div>
              <div class="text-sm text-white/65 mt-1">Open to reveal your fortune.</div>
            </div>
          </div>

          <div class="mt-6 flex flex-col md:flex-row gap-4 md:items-center md:justify-between">
            <!-- Envelope button -->
            <div class="flex items-center gap-4">
              <button id="envelopeBtn" class="envelopeBtn rounded-3xl p-0 bg-transparent" aria-label="Open red envelope">
                <!-- Envelope SVG -->
                <svg width="170" height="130" viewBox="0 0 170 130" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="envGrad" x1="20" y1="10" x2="150" y2="120" gradientUnits="userSpaceOnUse">
                      <stop stop-color="rgba(225,29,72,0.95)"/>
                      <stop offset="1" stop-color="rgba(185,28,28,0.92)"/>
                    </linearGradient>
                    <linearGradient id="foil" x1="50" y1="25" x2="120" y2="105" gradientUnits="userSpaceOnUse">
                      <stop stop-color="rgba(255,196,100,0.95)"/>
                      <stop offset="1" stop-color="rgba(255,90,31,0.85)"/>
                    </linearGradient>
                  </defs>

                  <rect x="12" y="18" width="146" height="98" rx="18" fill="url(#envGrad)" stroke="rgba(255,255,255,0.18)"/>
                  <path d="M24 38c22 20 41 33 61 43 20-10 39-23 61-43" stroke="rgba(255,255,255,0.18)" stroke-width="2" stroke-linecap="round" />
                  <path d="M24 100c21-18 41-30 61-38 20 8 40 20 61 38" stroke="rgba(0,0,0,0.18)" stroke-width="2" stroke-linecap="round" opacity="0.45"/>
                  <circle cx="85" cy="72" r="16" fill="url(#foil)" opacity="0.95"/>
                  <path d="M76 72h18" stroke="rgba(0,0,0,0.18)" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>

              <div class="text-sm text-white/65">
                <div class="smallcaps text-[11px] text-white/55">Fortune</div>
                <div class="mt-1">What you accept becomes your year.</div>
              </div>
            </div>

            <div class="flex gap-2">
              <button id="rerollBtn" class="rounded-2xl px-4 py-2 text-sm text-white/70 border border-white/15 hover:text-white">
                Reroll
              </button>
              <button id="shareBtn" class="rounded-2xl px-4 py-2 text-sm font-medium"
                style="background:linear-gradient(135deg, rgba(255,90,31,0.22), rgba(255,196,100,0.14)); border:1px solid rgba(255,255,255,0.14);">
                Share
              </button>
            </div>
          </div>
        </div>

        <!-- Result card -->
        <div id="resultCard" class="glass rounded-3xl p-6 resultGlow hidden">
          <div class="flex items-start justify-between gap-3">
            <div>
              <div class="smallcaps text-[11px] text-white/60">Fortune Card</div>
              <div class="text-2xl font-semibold mt-1">FIRE HORSE ¬∑ 2026</div>
            </div>
            <div class="text-xs text-white/55 text-right">
              <div>Ember ¬∑ Gold</div>
              <div id="stamp">‚Äî</div>
            </div>
          </div>

          <div id="fortuneText" class="mt-4 text-white/80 leading-relaxed text-[15px]"></div>

          <div class="mt-5 border-t border-white/10 pt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
            <div>
              <div class="smallcaps text-[11px] text-white/55">Lucky</div>
              <div id="lucky" class="mt-1 text-white/80">‚Äî</div>
            </div>
            <div>
              <div class="smallcaps text-[11px] text-white/55">Avoid</div>
              <div id="avoid" class="mt-1 text-white/80">‚Äî</div>
            </div>
            <div>
              <div class="smallcaps text-[11px] text-white/55">Directive</div>
              <div id="directiveLine" class="mt-1 text-white/80">‚Äî</div>
            </div>
          </div>

          <div class="mt-4 text-xs text-white/50">
            Keep it close. Let it guide you.
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ---------- Copy (romantic + savage) ----------
    const directives = [
      "Move first. Refine after.",
      "Heat reveals truth.",
      "Choose speed over perfection.",
      "Say less. Do more.",
      "Stop negotiating with hesitation.",
      "No more almost. Only done.",
      "Be bold. Be brief. Be gone.",
      "Make it real ‚Äî then make it beautiful.",
      "If it‚Äôs not reciprocal, it‚Äôs not sacred.",
      "Let the wrong ones burn."
    ];

    // 60 fortunes (romantic + savage)
    const fortunes = [
      "A love that feels calm is not boring ‚Äî it‚Äôs safe. Choose it.",
      "You will be adored the moment you stop accepting crumbs.",
      "Your softness is expensive. Don‚Äôt discount it for convenience.",
      "Someone wants you ‚Äî but they want access more than devotion. Test them.",
      "The next person you kiss will shift something in your life.",
      "You are not hard to love. You are hard to manipulate.",
      "If they wanted you, you would not be guessing.",
      "This year, you stop translating mixed signals into hope.",
      "A bold confession is coming. Receive it like you deserve it.",
      "Your heart is not a group project. Stop carrying the whole thing.",
      "Fire Horse energy favors the brave ‚Äî say what you mean.",
      "Your glow returns when you stop chasing what runs.",
      "You will outgrow someone who once felt like fate.",
      "A clean ending is a luxury. Give it to yourself.",
      "One person will be obsessed. Make sure they are worthy.",
      "Romance finds you when you stop auditioning.",
      "You will be chosen loudly ‚Äî no secrecy, no ambiguity.",
      "Your standards will cost you some people. Good.",
      "You are entering your era of being met, not managed.",
      "This year, you only entertain effort that matches your elegance.",
      "Someone you‚Äôre forgetting is still thinking of you. Keep forgetting.",
      "You will fall in love with your own life first ‚Äî and that changes everything.",
      "A message arrives when you stop checking your phone.",
      "If they only love you when you‚Äôre easy, that‚Äôs not love.",
      "You are not too much. You are just not for the weak.",
      "You will be pursued by someone who has nothing to prove and everything to offer.",
      "Your silence will speak louder than your explanations ever did.",
      "A door closes. Your peace opens.",
      "You won‚Äôt have to beg this year. You won‚Äôt even want to.",
      "You are about to become unforgettable to someone who tried to forget you.",
      "You are not a lesson. You are a destination.",
      "The right person will not require you to shrink.",
      "If they hesitate, let them lose you with full clarity.",
      "This year you stop romanticizing potential and start requiring proof.",
      "A new love enters like a warm coat ‚Äî effortless and correct.",
      "You‚Äôll be tempted by intensity. Choose consistency instead.",
      "You are magnetic when you are unattached to the outcome.",
      "Someone will offer you devotion ‚Äî accept it without suspicion.",
      "Your future self is grateful you walked away when you did.",
      "A love story is possible ‚Äî but not with someone who can‚Äôt show up.",
      "You will be cherished in public and protected in private.",
      "Stop feeding people who are starving you.",
      "Your boundaries will attract the right kind of hungry.",
      "You are done being the ‚Äúalmost.‚Äù",
      "This year, love becomes simple: effort, honesty, presence.",
      "If they disappear, let them stay gone. That is the blessing.",
      "A serious offer appears after you stop entertaining unserious behavior.",
      "You are not ‚Äúwaiting.‚Äù You are selecting.",
      "You will be kissed like a promise, not a maybe.",
      "Don‚Äôt confuse attention with intention. Demand both.",
      "A powerful connection arrives ‚Äî and it won‚Äôt cost your dignity.",
      "The one who is for you will make it obvious.",
      "You are entering your era of being spoiled emotionally.",
      "Your standards are not arrogance. They are alignment.",
      "Someone wants to build with you ‚Äî not just consume you.",
      "If they can‚Äôt meet you, they don‚Äôt get to reach you.",
      "Your love life improves when you stop explaining yourself to the wrong people.",
      "This year, you don‚Äôt chase. You choose.",
      "A slow-burning romance turns into a lifetime kind of thing.",
      "Fire Horse blessing: you move fast ‚Äî but you move correctly."
    ];

    const luckyColors = ["Ember Red", "Molten Gold", "Cherry Lacquer", "Black Silk", "Pearl White"];
    const luckyNumbers = ["8", "18", "28", "88", "108", "3", "13"];
    const avoids = [
      "mixed signals",
      "late-night nostalgia",
      "people who don‚Äôt plan",
      "secret relationships",
      "explaining your worth",
      "second chances without change"
    ];

    // ---------- UI ----------
    const envelopeBtn = document.querySelector("#envelopeBtn");
    const rerollBtn = document.querySelector("#rerollBtn");
    const shareBtn = document.querySelector("#shareBtn");
    const newDirectiveBtn = document.querySelector("#newDirectiveBtn");

    const resultCard = document.querySelector("#resultCard");
    const fortuneText = document.querySelector("#fortuneText");
    const lucky = document.querySelector("#lucky");
    const avoid = document.querySelector("#avoid");
    const directiveLine = document.querySelector("#directiveLine");
    const directive = document.querySelector("#directive");
    const stamp = document.querySelector("#stamp");

    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    function reveal(){
      envelopeBtn.classList.remove("shake");
      void envelopeBtn.offsetWidth;
      envelopeBtn.classList.add("shake");

      fortuneText.textContent = pick(fortunes);
      lucky.textContent = `${pick(luckyColors)} ¬∑ ${pick(luckyNumbers)}`;
      avoid.textContent = pick(avoids);
      directiveLine.textContent = pick(directives);
      stamp.textContent = new Date().toLocaleDateString(undefined, { year:"numeric", month:"short", day:"2-digit" });

      resultCard.classList.remove("hidden");
      resultCard.classList.remove("cardIn");
      void resultCard.offsetWidth;
      resultCard.classList.add("cardIn");

      emberBurst();
    }

    envelopeBtn.addEventListener("click", reveal);
    rerollBtn.addEventListener("click", reveal);

    newDirectiveBtn.addEventListener("click", () => {
      directive.textContent = pick(directives);
      emberBurst();
    });

    shareBtn.addEventListener("click", async () => {
      if (navigator.share) {
        try {
          await navigator.share({
            title: "FIRE HORSE // 2026",
            text: "My Fire Horse fortune üßßüî•üê¥",
            url: location.href
          });
        } catch {}
      }
      emberBurst();
    });

    // Initial directive
    directive.textContent = pick(directives);

    // ---------- Embers canvas ----------
    const canvas = document.querySelector("#embers");
    const ctx = canvas.getContext("2d");
    let W=0, H=0, particles=[], burst=0;

    function resize(){
      const dpr = devicePixelRatio || 1;
      W = canvas.width = Math.floor(innerWidth * dpr);
      H = canvas.height = Math.floor(innerHeight * dpr);
    }
    addEventListener("resize", resize); resize();

    function spawn(x=Math.random()*W, y=H+20){
      const dpr = devicePixelRatio || 1;
      const speed = (0.25 + Math.random()*0.9) * dpr;
      return { x, y, vx:(Math.random()-0.5)*0.12*dpr, vy:-speed, r:(0.8+Math.random()*2.2)*dpr, a:0.18+Math.random()*0.32, life:240+Math.random()*220 };
    }
    function emberBurst(){ burst = 24; }

    function step(){
      ctx.clearRect(0,0,W,H);
      if (particles.length < 120) particles.push(spawn());

      while (burst-- > 0) {
        particles.push(spawn((W*0.62)+(Math.random()*260-130), (H*0.50)+(Math.random()*180-40)));
      }
      burst = Math.max(burst, 0);

      for (const p of particles){
        p.x += p.vx; p.y += p.vy; p.vy *= 0.9992; p.life -= 1;

        const fade = Math.max(0, Math.min(1, p.y / (H*0.72)));
        const alpha = p.a * fade;

        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fillStyle = `rgba(255, 90, 31, ${alpha})`;
        ctx.fill();

        if (Math.random() < 0.02){
          ctx.beginPath();
          ctx.arc(p.x + p.r*0.7, p.y - p.r*0.4, p.r*0.45, 0, Math.PI*2);
          ctx.fillStyle = `rgba(255, 196, 100, ${alpha*0.7})`;
          ctx.fill();
        }
      }

      particles = particles.filter(p => p.life > 0 && p.y > -40);
      requestAnimationFrame(step);
    }
    step();
  </script>
</body>
</html>
